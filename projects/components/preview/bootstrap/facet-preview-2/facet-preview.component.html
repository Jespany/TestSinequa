<div class="d-flex flex-column {{iframeClass}}" [ngStyle]="{'height.%': 100}">
    <div *ngIf="loadingPreview" class="d-flex justify-content-center align-items-center h-100">
        <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status"></div>
    </div>
    <sq-preview-document-iframe 
                                [sandbox]="sandbox"
                                [downloadUrl]="downloadUrl" 
                                [scalingFactor]="scalingFactor" 
                                (onPreviewReady)="onPreviewReady($event)">
    </sq-preview-document-iframe>
</div>

<ng-template #headerTpl>
    <sq-result-title class="flex-grow-1 flex-basis-0" [record]="record"></sq-result-title>
</ng-template>

<ng-template #subHeaderTpl>
    <sq-metadata *ngIf="metadata && metadata.length > 0"
        [record]="record" 
        [items]="metadata"
        [showTitles]="true" 
        [showIcons]="true" 
        [clickable]="false"
        [spacing]="'compact'">
    </sq-metadata>
</ng-template>
