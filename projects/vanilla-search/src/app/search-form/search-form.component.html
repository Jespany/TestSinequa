<sq-search-form #searchForm
  [query]="searchService.query"
  [searchRoute]="searchRoute"
  [showFilterCount]="true"
  [autoSubmit]="false"> <!-- The search form won't autosubmit on "Enter", instead the autocomplete captures this event and acts accordindly -->

  <ng-template let-query>

    <app-autocomplete
      [inputElement]="searchForm.searchInput.nativeElement"
      [queryText]="query.text || ''"
      [suggestTypes]="autocompleteSources"
      (search)="onAutocompleteSearch($event, query)"
      (select)="onAutocompleteSelect($event, query)">
    </app-autocomplete>

  </ng-template>

  <ng-template #toolbarTpl let-query>
    <button class="btn p-0 text-muted me-1" sqTooltip="Translate the query to English" (click)="translate(query)" *ngIf="!translating && query.text">
      <i class="fas fa-language"></i>
    </button>
    <span class="spinner-grow spinner-grow-sm mx-1" role="status" *ngIf="translating">
      <span class="visually-hidden">Loading...</span>
    </span>
  </ng-template>

</sq-search-form>
